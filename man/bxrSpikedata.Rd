% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/io_bxr_v4.R
\name{bxrSpikedata}
\alias{bxrSpikedata}
\title{Extract spike event data from BXR file}
\usage{
bxrSpikedata(
  h5,
  well_id = "Well_A1",
  grid_n = 48,
  start = NULL,
  duration = NULL
)
}
\arguments{
\item{h5}{H5File object from \code{\link{openBXR}}}

\item{well_id}{Character. Well identifier (default: "Well_A1")}

\item{grid_n}{Integer. Grid dimension for spatial mapping:
\describe{
\item{48}{2304-channel chips (48x48 grid, default)}
\item{32}{1024-channel chips (32x32 grid)}
}}

\item{start}{Numeric. Start time in seconds for filtering (optional)}

\item{duration}{Numeric. Duration in seconds for filtering (optional)}
}
\value{
data.frame with columns:
\describe{
\item{spike_times}{Spike timestamps in seconds}
\item{spike_chid}{Channel linear indices}
\item{spike_units}{Unit classification from spike sorting}
\item{peak_amplitude}{Maximum absolute amplitude}
\item{min_amplitude}{Minimum amplitude}
\item{waveform_index}{Index for waveform lookup}
\item{X}{Integer. Grid X coordinate (1-based)}
\item{Y}{Integer. Grid Y coordinate (1-based)}
}
}
\description{
Reads spike times, channel indices, units, and amplitude information
from a BXR file with optional time filtering and grid mapping.
}
\examples{
\dontrun{
h5 <- openBXR("data.bxr")

# Get all spikes
spikes <- bxrSpikedata(h5)

# Get spikes in specific time window
spikes_subset <- bxrSpikedata(h5, start = 10, duration = 30)

h5$close()
}
}
